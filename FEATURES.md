# 集装箱配载软件 - 功能说明

## 版本 2.0 新功能

### 1. 容器选择和自定义

软件支持三大类容器：

#### 海运集装箱
- 20GP (标准20尺柜): 589×235×239cm, 最大载重 28,000kg
- 40GP (标准40尺柜): 1203×235×239cm, 最大载重 28,000kg
- 40HC (40尺高柜): 1203×235×269cm, 最大载重 28,000kg
- 45HC (45尺高柜): 1351×235×269cm, 最大载重 28,000kg

#### 货车
- 4.2m货车: 420×200×200cm, 最大载重 2,000kg
- 6.8m货车: 680×230×230cm, 最大载重 10,000kg
- 7.7m货车: 770×230×230cm, 最大载重 15,000kg
- 9.6m货车: 960×230×240cm, 最大载重 18,000kg
- 13m货车: 1300×230×270cm, 最大载重 30,000kg
- 17.5m高低板: 1750×300×280cm, 最大载重 35,000kg

#### 托盘/笼车
- 标准托盘: 120×100×150cm, 最大载重 1,000kg
- 欧标托盘: 120×80×150cm, 最大载重 1,000kg
- 笼车: 115×80×170cm, 最大载重 500kg
- 周转箱(大): 60×40×35cm, 最大载重 30kg
- 周转箱(中): 40×30×25cm, 最大载重 20kg

支持自定义容器尺寸和参数。

---

### 2. 货物分组锁定

**功能描述**: 将多个货物绑定为一组，配载时作为整体处理。

**使用方法**:
1. 在货物列表中选择多个货物（按住Ctrl点击）
2. 点击"创建分组"按钮
3. 分组后的货物会显示分组标识（如 G1, G2）

**取消分组**:
1. 选择已分组的货物
2. 点击"取消分组"按钮

---

### 3. 配载规则系统

提供5种可配置的配载规则：

| 规则名称 | 说明 | 默认优先级 |
|---------|------|-----------|
| 相同尺寸优先 | 相同尺寸的货物优先堆叠在一起 | 5 |
| 重货在下 | 重量大的货物放在底层 | 4 |
| 相似尺寸堆叠 | 尺寸相近的货物可以堆叠 | 3 |
| 体积大优先 | 体积大的货物优先装载 | 2 |
| 优先级排序 | 按货物设定的优先级装载 | 1 |

**配置方法**:
- 勾选启用/禁用规则
- 修改优先级数值（数值越大优先级越高）

---

### 4. 手动编辑功能

配载完成后可进行手动微调：

**编辑功能**:
- 选择货物并调整X/Y/Z坐标
- 旋转货物90度
- 删除单个货物
- 实时3D预览

**使用方法**:
1. 完成自动配载
2. 点击"手动编辑"按钮
3. 在对话框中选择货物并调整位置

---

### 5. 增强输出

#### 重心分析
- 实时显示重心位置（X/Y/Z坐标）
- 横向偏移量计算
- 纵向偏移量计算
- 重心状态评估（良好/偏移）

#### 装载步骤
- 按顺序显示装载步骤
- 每个步骤包含：序号、货物名、位置、加固建议

#### 导出内容增强
- 重心分析报告
- 详细装载步骤
- 加固建议
- 尾部固定指导

---

### 6. 两步装载

适用于小件货物先组托再装柜的场景：

**步骤一：小件组托**
1. 点击"小件组托"按钮
2. 选择托盘规格（标准托盘/欧标托盘/自定义）
3. 选择要组托的货物
4. 系统自动将货物组合成托盘单元

**步骤二：托盘装柜**
1. 组托完成后，货物列表显示托盘
2. 点击"开始配载"进行托盘装柜

---

## 货物属性说明

| 属性 | 说明 |
|-----|------|
| 可旋转 (🔄) | 允许货物水平旋转90度 |
| 仅底层 (⬇) | 货物只能放在底层 |
| 优先级 (P1-P10) | 数值越大装载优先级越高 |
| 分组 (G1, G2...) | 分组标识 |

---

## 快捷操作

- **添加货物**: 填写参数后点击"添加"
- **删除货物**: 选中后点击"删除选中"
- **清空货物**: 点击"清空"
- **导入/导出**: 支持Excel(.xlsx)和JSON格式
- **导出方案**: 支持文本(.txt)和JSON格式

---

## 技术规格

- **开发框架**: PyQt6 + OpenGL
- **3D渲染**: OpenGL with lighting
- **文件支持**: Excel, JSON, TXT
- **系统要求**: Python 3.8+, Windows/Mac/Linux
